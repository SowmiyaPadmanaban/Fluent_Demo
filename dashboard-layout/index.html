<!DOCTYPE html>
<head>
        <title>Syncfusion JavaScript (ES5) UI Control</title>
        <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" />
<link id="sample-themes" href="../dist/fluent.css" rel="stylesheet" type="text/css"/>
        <script src="https://cdn.syncfusion.com/ej2/ej2-base/dist/global/ej2-base.min.js" type="text/javascript"></script>
        <script src="https://cdn.syncfusion.com/ej2/dist/ej2.min.js" type="text/javascript"></script>
    
<body>
    <h2>Syncfusion JavaScript (ES5) Dashboard layout Control</h2>
    <div class="control-section" style="width: 90%; margin: 0 auto;border: 1px solid lightgray; padding: 15px;">
        <div style="padding:5px;text-align: right;">
            <button id="add" class="e-btn e-info">Add Panel</button>
        </div>
        <div class="parent-container">
            <div id="defaultLayout">
                <div id="one" class="e-panel" data-row="0" data-col="0" data-sizeX="1" data-sizeY="1">
                    <span id="close" class="e-template-icon e-clear-icon"></span>
                    <div class="e-panel-container">
                        <div class="text-align">0</div>
                    </div>
                </div>
                <div id="two" class="e-panel" data-row="1" data-col="0" data-sizeX="1" data-sizeY="2">
                    <span id="close" class="e-template-icon e-clear-icon"></span>
                    <div class="e-panel-container">
                        <div class="text-align">1</div>
                    </div>
                </div>
                <div id="three" class="e-panel" data-row="0" data-col="1" data-sizeX="2" data-sizeY="2">
                    <span id="close" class="e-template-icon e-clear-icon"></span>
                    <div class="e-panel-container">
                        <div class="text-align">2</div>
                    </div>
                </div>
                <div id="four" class="e-panel" data-row="2" data-col="1" data-sizeX="1" data-sizeY="1">
                    <span id="close" class="e-template-icon e-clear-icon"></span>
                    <div class="e-panel-container">
                        <div class="text-align">3</div>
                    </div>
                </div>
                <div id="five" class="e-panel" data-row="2" data-col="2" data-sizeX="2" data-sizeY="1">
                    <span id="close" class="e-template-icon e-clear-icon"></span>
                    <div class="e-panel-container">
                        <div class="text-align">4</div>
                    </div>
                </div>
                <div id="six" class="e-panel" data-row="0" data-col="3" data-sizeX="1" data-sizeY="1">
                    <span id="close" class="e-template-icon e-clear-icon"></span>
                    <div class="e-panel-container">
                        <div class="text-align">5</div>
                    </div>
                </div>
                <div id="seven" class="e-panel" data-row="1" data-col="3" data-sizeX="1" data-sizeY="1">
                    <span id="close" class="e-template-icon e-clear-icon"></span>
                    <div class="e-panel-container">
                        <div class="text-align">6</div>
                    </div>
                </div>
                <div id="eight" class="e-panel" data-row="0" data-col="4" data-sizeX="1" data-sizeY="3">
                    <span id="close" class="e-template-icon e-clear-icon"></span>
                    <div class="e-panel-container">
                        <div class="text-align">7</div>
                    </div>
                </div>
            </div>
        </div>
        <div id="headerTemplate">
            <span id="close" class="e-template-icon e-clear-icon"></span>
        </div>
        <div id="content"></div>
    </div>

    <h3>All Properties</h3>
    <div style="width: 90%; margin: 0 auto;border: 1px solid lightgray;min-height: 530px;">
        <div class="control-section component-section" style="width: 66.66666666%; float: left; padding: 15px;">
            <div class="content-wrapper" style="max-width: 100%">
                <div id="dynamicLayout" style="padding: 10px;width: 100%"></div>
            </div>
            <div id="content"></div>
        </div>
        <div class="property-section dashboard">
            <div class="property-panel-header">
                Properties
            </div>
            <div class="row property-panel-content">
                <div class="card-body" style="margin-top: 15px;">
                    <div class="form-group row">
                        <label for="settings-margin-input"
                            class="col-sm-4 col-form-label form-label">CellSpacing</label>
                        <div class="col-sm-8">
                            <input type="text" id="cellspacing" class="form-control">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="settings-bubble-up-input"
                            class="col-sm-4 col-form-label form-label">AllowFloating</label>
                        <div class="col-sm-8"><input type="checkbox" name="floating" id="floating"></div>
                    </div>
                    <div class="form-group row">
                        <label for="settings-bubble-up-input"
                            class="col-sm-4 col-form-label form-label">AllowResizing</label>
                        <div class="col-sm-8"><input type="checkbox" name="resizing" id="resizing"></div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-12">
                            <button id='add1' class="e-control e-btn e-lib e-primary">Add Panel</button>
                            <button id="remove" class="e-control e-btn e-lib e-danger">Remove
                                Panel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script type="template" id="settingsheader">
        <div>
            Settings
        </div>
    </script>
    <script type="template" id="settingsbody">

    </script>

    <script>
        var dashboard = new ej.layouts.DashboardLayout({
            cellSpacing: [10, 10],
            columns: 5,
            allowResizing: true,
        });
        dashboard.appendTo('#defaultLayout');
        var dashboardObject = document.getElementById('defaultLayout').ej2_instances[0];
        var count = 8;
        document.getElementById('add').onclick = function (e) {
            var panel = [{
                'id': count.toString() + '_layout', 'sizeX': 1, 'sizeY': 1, 'row': 0, 'col': 0,
                content: '<span id="close" class="e-template-icon e-clear-icon"></span><div class="text-align">' + count.toString() + '</div>'
            }];
            dashboardObject.addPanel(panel[0]);
            var closeIcon = document.getElementById(count.toString() + '_layout').querySelector('.e-clear-icon');
            closeIcon.addEventListener('click', onCloseIconHandler);
            count = count + 1;
        };
        function onCloseIconHandler(event) {
            if (event.target.offsetParent) {
                dashboardObject.removePanel(event.target.offsetParent.id);
            }

        }
        var closeElement = document.querySelectorAll('.e-clear-icon');
        for (var i = 0; i < closeElement.length; i++) {
            closeElement[i].addEventListener('click', onCloseIconHandler);
        }

        var dashboard1 = new ej.layouts.DashboardLayout({
            allowResizing: true,
            cellSpacing: [10, 10],
            columns: 6,
            panels: [{
                'sizeX': 2, 'sizeY': 2, 'row': 0, 'col': 0,
                header: '<div>Panel 1</div>', content: '<div>Panel Content</div>'
            },
            {
                'sizeX': 2, 'sizeY': 2, 'row': 0, 'col': 2,
                header: '<div>Panel 2</div>', content: '<div>Panel Content</div>'
            },
            {
                'sizeX': 2, 'sizeY': 2, 'row': 0, 'col': 4,
                header: '<div>Panel 3</div>', content: '<div>Panel Content</div>'
            },
            {
                'sizeX': 4, 'sizeY': 2, 'row': 2, 'col': 0,
                header: '<div>Panel 4</div>', content: '<div>Panel Content</div>'
            },
            {
                'sizeX': 2, 'sizeY': 2, 'row': 2, 'col': 4,
                header: '<div>Panel 5</div>', content: '<div>Panel Content</div>'
            }]
        });
        dashboard1.appendTo('#dynamicLayout');
        var cellspacing = new ej.inputs.NumericTextBox({
            placeholder: 'Ex: 10',
            floatLabelType: 'Never',
            change: valueChange,
            type: 'number',
            value: 10,
            min: 1,
            max: 20
        });
        cellspacing.appendTo('#cellspacing');
        var floatObj = new ej.buttons.CheckBox({ checked: true, change: onChange });
        floatObj.appendTo('#floating');
        var pushObj = new ej.buttons.CheckBox({ checked: true, change: onChange });
        pushObj.appendTo('#pushing');
        var resizeObj = new ej.buttons.CheckBox({ checked: true, change: onChange });
        resizeObj.appendTo('#resizing');
        var dashboardObject1 = document.getElementById('dynamicLayout').ej2_instances[0];
        function valueChange(args) {
            dashboard1.cellSpacing = [parseInt(args.value, 10), parseInt(args.value, 10)];
        }
        function onChange(args) {
            if (args.event.currentTarget.id === "floating") {
                dashboard1.allowFloating = args.checked;
            }
            if (args.event.currentTarget.id === "resizing") {
                dashboard1.allowResizing = args.checked;
            }
        }

        document.getElementById('remove').onclick = function (e) {
            if (dashboardObject1.panels.length > 0) {
                for (var i = dashboardObject1.panels.length - 1; i < dashboardObject1.panels.length; i++) {
                    dashboardObject1.removePanel(dashboardObject1.panels[dashboardObject1.panels.length - 1 - i].id);
                }
            }
        };
        var count = 5;
        document.getElementById('add1').onclick = function (e) {
            count = count + 1;
            var panel = [{
                'id': count.toString() + '_layout', 'sizeX': 2, 'sizeY': 2, 'row': 0, 'col': 0,
                header: '<div>Panel ' + count.toString() + '</div>', content: '<div>Panel Content</div>'
            }];
            dashboardObject1.addPanel(panel[0]);
        };
    </script>
    <style>
        body {
            touch-action: none;
        }

        h3 {
            text-align: center;
        }

        #defaultLayout {
            padding: 10px;
        }

        .e-dashboardlayout.e-control .e-panel:hover span {
            display: block;
        }

        #defaultLayout .e-panel .e-panel-container .text-align {
            vertical-align: middle;
            font-weight: 600;
            font-size: 20px;
            text-align: center;
        }

        .property-section {
            width: 25.333333%;
            float: left;
            padding: 25px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .col-sm-8 {
            float: left;
            width: 44.666667%;
            padding-right: 15px;
            padding-left: 15px;
            position: relative;
        }

        .col-sm-4 {
            float: left;
            position: relative;
            width: 33.33333333%;
            padding-right: 15px;
            padding-left: 15px;
        }

        .row:before {
            display: table;
            content: " ";
        }

        .row:after {
            clear: both;
            display: table;
            content: " ";            
        }

        .e-template-icon {
            padding: 10px;
            float: right;
            display: none;
        }

        .e-clear-icon::before {
            content: '\e100';
            font-size: 12px;
            font-family: 'ej-icon';
        }

        @font-face {
            font-family: 'ej-icon';
            src:
                url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAAKAIAAAwAgT1MvMjdtQ/IAAAEoAAAAVmNtYXDhEOFVAAABiAAAADZnbHlmq8jV4gAAAcgAAAFQaGVhZBSREIsAAADQAAAANmhoZWEIUAQDAAAArAAAACRobXR4CAAAAAAAAYAAAAAIbG9jYQCoAAAAAAHAAAAABm1heHABDQCUAAABCAAAACBuYW1lWD3y/QAAAxgAAAIlcG9zdMl9cHoAAAVAAAAALwABAAAEAAAAAFwEAAAAAAAD8wABAAAAAAAAAAAAAAAAAAAAAgABAAAAAQAAjGeuW18PPPUACwQAAAAAANi/5c0AAAAA2L/lzQAAAAAD8wP0AAAACAACAAAAAAAAAAEAAAACAIgAAQAAAAAAAgAAAAoACgAAAP8AAAAAAAAAAQQAAZAABQAAAokCzAAAAI8CiQLMAAAB6wAyAQgAAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA4QDhAAQAAAAAXAQAAAAAAAABAAAAAAAABAAAAAQAAAAAAAACAAAAAwAAABQAAwABAAAAFAAEACIAAAAEAAQAAQAA4QD//wAA4QD//wAAAAEABAAAAAEAAAAAAAAAqAAAAAEAAAAAA/MD9ACHAAAJAi8GKwEPDR0BHwYJAQ8GHQEfDTsBPwYJAR8GOwE/Di8HCQE/Bj0BLw0rAQ8FA3T+jP6MBQYHBgcHCAcHBwcHBwYGBgUFAwMDAgEBAgMDAwUFAXT+jAUFAwMDAgEBAgMDAwUFBgYGBwcHBwcHBwgGBwYHBQF0AXQFBgcGBwcIBwcHBwcHBgYGBQQEAwMBAQEBAQEDAwQEBf6MAXQFBQMDAwIBAQIDAwMFBQYGBgcHBwcHBwgHBwYHBgPe/owBdAUFAwMDAgEBAgMDAwUFBgYGBwcHBwcHCAcGBwYHBf6M/owFBwYHBgcIBwcHBwcHBgYGBQUDBAICAQECAgQDBQUBdP6MBQUDBAICAQECAgQDBQUGBgYHBwcHBwcIBwYHBgcFAXQBdAYGBgcHBwcHBwcHBwcGBgYFBQMEAgIBAQIDAwMFAAAAEgDeAAEAAAAAAAAAAQAAAAEAAAAAAAEABwABAAEAAAAAAAIABwAIAAEAAAAAAAMABwAPAAEAAAAAAAQABwAWAAEAAAAAAAUACwAdAAEAAAAAAAYABwAoAAEAAAAAAAoALAAvAAEAAAAAAAsAEgBbAAMAAQQJAAAAAgBtAAMAAQQJAAEADgBvAAMAAQQJAAIADgB9AAMAAQQJAAMADgCLAAMAAQQJAAQADgCZAAMAAQQJAAUAFgCnAAMAAQQJAAYADgC9AAMAAQQJAAoAWADLAAMAAQQJAAsAJAEjIGVqLWljb25SZWd1bGFyZWotaWNvbmVqLWljb25WZXJzaW9uIDEuMGVqLWljb25Gb250IGdlbmVyYXRlZCB1c2luZyBTeW5jZnVzaW9uIE1ldHJvIFN0dWRpb3d3dy5zeW5jZnVzaW9uLmNvbQAgAGUAagAtAGkAYwBvAG4AUgBlAGcAdQBsAGEAcgBlAGoALQBpAGMAbwBuAGUAagAtAGkAYwBvAG4AVgBlAHIAcwBpAG8AbgAgADEALgAwAGUAagAtAGkAYwBvAG4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAdQBzAGkAbgBnACAAUwB5AG4AYwBmAHUAcwBpAG8AbgAgAE0AZQB0AHIAbwAgAFMAdAB1AGQAaQBvAHcAdwB3AC4AcwB5AG4AYwBmAHUAcwBpAG8AbgAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgECAQMABWNsb3NlAAAA) format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        .text-align {
            line-height: 160px;
        }

        .e-clear-icon {
            position: absolute;
            right: 0;
            cursor: pointer;
        }
    </style>
</body>

</html>